
<svg xmlns="http://www.w3.org/2000/svg" width="2000" height="1100" font-family="Segoe UI, Arial">
  <defs>
    <marker id="arrow" markerWidth="10" markerHeight="10" refX="10" refY="3" orient="auto" markerUnits="strokeWidth">
      <path d="M0,0 L10,3 L0,6 z" fill="#333" />
    </marker>
    <style>
      .title{font-weight:bold;font-size:20px}
      .box{rx:10;ry:10;stroke:#333;stroke-width:1}
      .note{font-size:12px;fill:#333}
      .step{fill:#dfe9ff;stroke:#6c8ebf}
    </style>
  </defs>

  <!-- Header -->
  <rect class="box" x="40" y="20" width="1920" height="50" fill="#fad7ac" stroke="#b46504"/>
  <text x="1000" y="52" class="title" text-anchor="middle">EWRA – OpenShift Containerized Architecture (Horizontal)</text>

  <!-- Sources: Datalake / SQLServer / Wendy -->
  <text x="120" y="100" class="title">Sources</text>
  <rect class="box" x="60" y="120" width="260" height="210" fill="#dae8fc" stroke="#6c8ebf"/>
  <text x="190" y="145" text-anchor="middle" font-weight="bold">Datalake</text>
  <text x="80" y="170" class="note">Ascentium</text>
  <text x="80" y="190" class="note">GreenSky</text>
  <text x="80" y="210" class="note">Mortgage</text>
  <text x="80" y="230" class="note">MTS</text>
  <text x="80" y="250" class="note">RFSCRF</text>
  <text x="80" y="270" class="note">RFSIDD</text>
  <text x="80" y="290" class="note">RFSNON</text>

  <rect class="box" x="60" y="350" width="260" height="120" fill="#e1d5e7" stroke="#9673a6"/>
  <text x="190" y="370" text-anchor="middle" font-weight="bold">SQL Server</text>
  <text x="80" y="395" class="note">Leasing</text>
  <text x="80" y="415" class="note">EnerBank</text>
  <text x="80" y="435" class="note">Regis</text>

  <rect class="box" x="60" y="510" width="260" height="120" fill="#fff2cc" stroke="#d6b656"/>
  <text x="190" y="530" text-anchor="middle" font-weight="bold">Wendy's Team</text>
  <text x="80" y="555" class="note">Excel: Risk Ratings</text>
  <text x="80" y="575" class="note">Excel: Transaction Codes</text>

  <!-- Shared Network Drive -->
  <rect class="box" x="380" y="220" width="300" height="180" fill="#ffe6cc" stroke="#d79b00"/>
  <text x="530" y="245" text-anchor="middle" font-weight="bold">Shared Network Drive (CSV Landing)</text>

  <!-- Arrows Sources -> Shared Drive -->
  <g stroke="#333" stroke-width="2" marker-end="url(#arrow)">
    <line x1="320" y1="200" x2="380" y2="260"/>
    <line x1="320" y1="410" x2="380" y2="310"/>
    <line x1="320" y1="570" x2="380" y2="340"/>
  </g>
  <circle cx="360" cy="250" r="16" class="step"/><text x="360" y="255" text-anchor="middle" font-weight="bold">1</text>

  <!-- OpenShift Box -->
  <rect class="box" x="720" y="150" width="520" height="360" fill="#d5e8d4" stroke="#82b366"/>
  <text x="980" y="175" text-anchor="middle" font-weight="bold">OpenShift (ENCR Namespace)</text>

  <!-- OCP internals -->
  <rect class="box" x="740" y="190" width="180" height="40" fill="#ffffff" stroke="#82b366"/>
  <text x="830" y="215" text-anchor="middle">ConfigMaps / Secrets</text>
  <rect class="box" x="740" y="240" width="180" height="40" fill="#ffffff" stroke="#82b366"/>
  <text x="830" y="265" text-anchor="middle">PVC: /data/ewra</text>

  <rect class="box" x="940" y="190" width="280" height="210" fill="#cce5ff" stroke="#6c8ebf"/>
  <text x="1080" y="210" text-anchor="middle" font-weight="bold">Python Containers</text>
  <text x="955" y="235" class="note">[P1] py_extract_datalake</text>
  <text x="955" y="255" class="note">[P2] py_extract_sql</text>
  <text x="955" y="275" class="note">[P3] py_create_tables</text>
  <text x="955" y="295" class="note">[P4] py_import_to_db</text>
  <text x="955" y="315" class="note">[P5] py_execute_main_query</text>
  <text x="955" y="335" class="note">[P6] orchestrator (cron)</text>

  <!-- SND -> OCP arrows -->
  <g stroke="#333" stroke-width="2" marker-end="url(#arrow)">
    <line x1="680" y1="280" x2="720" y2="280"/>
    <line x1="720" y1="260" x2="940" y2="260"/>
  </g>
  <circle cx="700" cy="270" r="16" class="step"/><text x="700" y="275" text-anchor="middle" font-weight="bold">2</text>
  <circle cx="830" cy="258" r="16" class="step"/><text x="830" y="263" text-anchor="middle" font-weight="bold">3</text>

  <!-- ENCR DB -->
  <rect class="box" x="1280" y="220" width="230" height="100" fill="#d5e8d4" stroke="#82b366"/>
  <text x="1395" y="250" text-anchor="middle" font-weight="bold">ENCR Oracle (EWRA)</text>
  <g stroke="#333" stroke-width="2" marker-end="url(#arrow)">
    <line x1="1220" y1="260" x2="1280" y2="260"/>
  </g>
  <circle cx="1250" cy="255" r="16" class="step"/><text x="1250" y="260" text-anchor="middle" font-weight="bold">4</text>

  <!-- EDWPROD -->
  <rect class="box" x="1280" y="120" width="230" height="80" fill="#fff2cc" stroke="#d6b656"/>
  <text x="1395" y="165" text-anchor="middle">EDWPROD (optional copy)</text>
  <g stroke="#333" stroke-width="2" marker-end="url(#arrow)">
    <line x1="1395" y1="200" x2="1395" y2="220"/>
  </g>
  <circle cx="1395" cy="210" r="16" class="step"/><text x="1395" y="215" text-anchor="middle" font-weight="bold">5</text>

  <!-- Final CSV -->
  <rect class="box" x="1540" y="220" width="230" height="100" fill="#f8cecc" stroke="#b85450"/>
  <text x="1655" y="250" text-anchor="middle" font-weight="bold">Final EWRA CSV</text>
  <g stroke="#333" stroke-width="2" marker-end="url(#arrow)">
    <line x1="1510" y1="270" x2="1540" y2="270"/>
  </g>
  <circle cx="1525" cy="265" r="16" class="step"/><text x="1525" y="270" text-anchor="middle" font-weight="bold">6</text>

  <!-- Delivery -->
  <rect class="box" x="1800" y="220" width="160" height="100" fill="#dae8fc" stroke="#6c8ebf"/>
  <text x="1880" y="250" text-anchor="middle">Wendy's Team</text>
  <g stroke="#333" stroke-width="2" marker-end="url(#arrow)">
    <line x1="1770" y1="270" x2="1800" y2="270"/>
  </g>
  <circle cx="1785" cy="265" r="16" class="step"/><text x="1785" y="270" text-anchor="middle" font-weight="bold">7</text>

  <!-- CICD -->
  <rect class="box" x="720" y="540" width="740" height="100" fill="#e1f5fe" stroke="#29b6f6"/>
  <text x="1090" y="570" text-anchor="middle" font-weight="bold">CI/CD: GitHub → Artifactory → Harness → OpenShift</text>

</svg>
